# 内存管理方式

## 连续分配管理方式

为一个用户进程分配一个连续的内存空间

- 块式存储

  将内存分为固定大小的几块，程序需要内存时就分配一块。会产生很多的碎片。

## 非连续分配管理方式

允许一个程序使用的	内存分布在离散的内存中

- 页式存储

  将主存大小分为相等的一页一页的形式，页较小，更好管理。

  页式管理通过**页表**对应逻辑地址和物理地址

- 段式存储

  页式存储中的页没有实际意义。段式存储将内存分为一段一段的，每一段要比一页小很多。重要的是段是有实际意义的，每一个段定义了**一组逻辑信息**。如主程序段、子程序段等。

  段式存储通过**段表**对应逻辑地址和物理地址

- 段页式存储

  将内存分为一段一段的，再将每个段分为若干页。

分页和分段共同点和区别

- 共同点
  1. 提供内存利用率，减少碎片
  2. 离散存储
- 区别
  1. 页的大小固定，段的大小取决于运行的程序
  2. 段有实际意义，每个段定义了一组逻辑信息

# 快表和多级页表

## 快表

为了解决虚拟地址到物理地址的转换速度，类似于缓存，其中的内容是也页表的一部分内容或者全部内容。

## 多级页表

避免将全部的页表都放入内存中，占用过多空间，而不需要的页表也在内存中占用不必要的空间。

# CPU寻址

CPU寻址就是为了将虚拟地址转换为物理地址，才能访问到真实的物理内存。

## 虚拟地址空间

因为不能直接把物理地址空间暴漏给应用程序，所以使用虚拟地址空间间接访问。

# 虚拟内存

虚拟内存就是在硬盘空间上重新定义了一个**连续的虚拟地址空间**

## 技术实现

- 请求分页式存储
- 请求分段式存储
- 请求段页式存储

## 页面置换算法

当发生**缺页中断**时，即当前内存中没有空闲的页面，操作系统就必须选择一个页面将其移除，用来淘汰哪一页的规则就叫做页面置换算法。

- OPT页面置换算法（最佳页面置换算法）
- FIFO（先进先出页面置换算法）：淘汰最先进入内存的页面，即选择驻留时间最长的淘汰
- LRU（最近最久未使用）：
- LFU（最近最少使用）