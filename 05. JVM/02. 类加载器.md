# /类加载器

类加载器就是通过类的**全限定名**获取该类的二进制字节流的代码块.

## 种类

- 启动类加载器

  Bootstrap Class Loader

  用于加载Java核心类库

- 扩展类加载器

  Extension Class Loader

  用于加载Java扩展库

- 应用程序类加载器

  Application Class Loader

  根据应用的类路径来加载Java类

- 用户自定义加载器

  User Class Loader

  通过继承**java.lang.ClassLoader**类实现

## 双亲委派模型

一个**类加载器在收到一个类的加载请求**时, 如果类已经加载, 则会直接返回. 不然会先交给父类加载器去完成, 每一层次的加载器都是如此, 因此最终的请求都会传送到启动类加载器, 只有当父类加载器无法完成加载请求时, 子加载器才会尝试加载.

## 双亲委派好处

**防止内存中出现两份相同的字节码**. 如果是让各个类使用自己的类加载器加载的话, 则可能一个类会被多个加载器加载进内存, 从而出现重复的类, 则类的唯一性无法保证.

## 实现

- 检查一下指定名称的类是否已经加载过，如果加载过了，就不需要再加载，直接返回。
- 如果此类没有加载过，那么，再判断一下是否有父加载器；如果有父加载器，则由父加载器加载（即调用parent.loadClass(name, false);）.或者是调用bootstrap类加载器来加载。
- 如果父加载器及bootstrap类加载器都没有找到指定的类，那么调用当前类加载器的findClass方法来完成类加载。

如果自定义类加载器，就必须重写findClass方法！



